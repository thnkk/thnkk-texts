---
layout: layouts/page.njk
title: what do you say?
---

<form id="contact-form" class="contact-form">
  <div class="form-field">
    <label for="name">name</label>
    <input id="name" name="name" required autocomplete="name" />
  </div>

  <div class="form-field">
    <label for="email">email</label>
    <input id="email" name="email" type="email" required autocomplete="email" />
  </div>

  <div class="form-field">
    <label for="message">message</label>
    <textarea id="message" name="message" rows="8" required></textarea>
  </div>

  {# honeypot (bots fill it, humans donâ€™t) #}
  <input name="website" tabindex="-1" autocomplete="off" class="hp" />

  <button type="submit">send</button>
  <p id="contact-status" class="contact-status" aria-live="polite"></p>
</form>

<script>
  (function () {
    const form = document.getElementById("contact-form");
    const status = document.getElementById("contact-status");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      status.textContent = "sending...";

      const fd = new FormData(form);
      const payload = {
        name: (fd.get("name") || "").toString(),
        email: (fd.get("email") || "").toString(),
        message: (fd.get("message") || "").toString(),
        website: (fd.get("website") || "").toString(),
        lang: "en"
      };

      try {
        const res = await fetch("/api/contact", {
          method: "POST",
          headers: { "content-type": "application/json" },
          body: JSON.stringify(payload)
        });

        const data = await res.json().catch(() => ({}));
        if (!res.ok) throw new Error(data.error || "failed");

        form.reset();
        status.textContent = "sent. thank you!";
      } catch (err) {
        status.textContent = "could not send. try again.";
      }
    });
  })();
</script>
