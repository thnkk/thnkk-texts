<!doctype html>
{% set inTR = (page.url | slice(0,4)) == "/tr/" %}

{% if inTR %}
  {% set nav_home = "arşiv" %}
  {% set nav_texts = "yazılar" %}
  {% set nav_about = "hakkında" %}
  {% set nav_sounds = "sesler" %}
  {% set nav_lang = "en" %}
  {% set home_href = "/tr/" %}
  {% set texts_href = "/tr/texts/" %}
  {% set about_href = "/tr/hakkinda/" %}
{% else %}
  {% set nav_home = "archive" %}
  {% set nav_texts = "texts" %}
  {% set nav_about = "about" %}
  {% set nav_sounds = "sounds" %}
  {% set nav_lang = "tr" %}
  {% set home_href = "/" %}
  {% set texts_href = "/texts/" %}
  {% set about_href = "/about/" %}
{% endif %}

{# language switch mapping #}
{% set url = page.url %}
{% if inTR %}
  {% if url == "/tr/" %}
    {% set switchUrl = "/" %}
  {% elseif url == "/tr/texts/" %}
    {% set switchUrl = "/texts/" %}
  {% elseif url == "/tr/hakkinda/" %}
    {% set switchUrl = "/about/" %}
  {% else %}
    {% set switchUrl = "/" %}
  {% endif %}
{% else %}
  {% if url == "/" %}
    {% set switchUrl = "/tr/" %}
  {% elseif url == "/texts/" %}
    {% set switchUrl = "/tr/texts/" %}
  {% elseif (url | slice(0,7)) == "/texts/" %}
    {# poem page: no tr version, so send to tr texts list #}
    {% set switchUrl = "/tr/texts/" %}
  {% elseif url == "/about/" %}
    {% set switchUrl = "/tr/hakkinda/" %}
  {% else %}
    {% set switchUrl = "/tr/" %}
  {% endif %}
{% endif %}

<html lang="{{ inTR ? 'tr' : 'en' }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ title or site.title }}</title>
    <meta name="description" content="{{ description or site.tagline }}" />
    <link rel="stylesheet" href="/css/styles.css" />
  </head>
  <body>
    <header class="site-header">
      <nav class="site-nav">
        <a href="{{ home_href }}">{{ nav_home }}</a>
        <a href="{{ texts_href }}">{{ nav_texts }}</a>
        <a href="{{ about_href }}">{{ nav_about }}</a>
        <a href="{{ site.bandcamp_url }}" target="_blank" rel="noopener">{{ nav_sounds }}</a>
        <a class="lang" href="{{ switchUrl }}">{{ nav_lang }}</a>
      </nav>
    </header>

    <main class="site-main">
      {{ content | safe }}
    </main>
  </body>
</html>

